<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<!-- <meta http-equiv="X-UA-Compatible" content="IE=Edge"> -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="이커머스, 웹에이전시, UX, 뉴미디어, 모바일">
	<meta name="description" content="애자일 기반의 이커머스와 뉴미디어 분야 UX전문 디지털에이전시">
	<meta property="og:url" content="http://www.rianag.com/" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="리앙에이지">
	<meta property="og:image" content="http://www.rianag.com/resource/img/rianag.png">
	<meta property="og:description" content="이커머스와 뉴미디어 기반의 UX 전문 웹에이전시">
	<link rel="icon" href="/favicon.png">
	<title>리앙에이지</title>

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/common.css">
	<link rel="stylesheet" href="/assets/css/ui.css">
	<link rel="stylesheet" href="/assets/css/main.css">

	<!-- JS -->
    <script src="/assets/js/jquery-3.7.1.min.js"></script>
	<script src="/assets/js/lazyload.js"></script>
	<script src="./assets/js/lenis.min.js"></script>
	<script src="/assets/js/common.js"></script>
	<script src="/assets/js/simplefullpage.js"></script>

	<script>
		$(document).ready(function(){
			var project = {
        		'title' : ['CGV', 'LOTTE', 'HOME &', 'KB', 'HYUNDAI','COLDPLAY'],
				'slogan' : ['DEEP DIVE SPACE', 'DUTY FREE', 'SHOPPING', 'KOOKMIN\nCARD','DUTY FREE', 'SOUND, VISUAL, STORY']
			};
			var mixColor = ['#D8FD93','#E90606','#EAC700','#FFFFFF','#FFFFFF','#5BB6EF']
			var url = ['/works_view_01.html','/works_view_03.html','/works_view_02.html','/works_view_04.html','/works_view_05.html','/insight_view_01.html']

			$('.visual_cont').addClass('active');
			$('.visual_cont .project').html(project.title[0].replace(/\n/g, '<br>'));
			$('.visual_cont .slogan').html(project.slogan[0].replace(/\n/g, '<br>'));

			var current = ($('section.active').index() + 1);
			var length = $('section').length;

			if(length < 10){
				length = '0'+length;
			}

			if(current < 10){
				current = '0'+current;
			}

			$('#section_wrap').simpleFullpage({
				duration: 1500,
				easing: 'ease',
				parallax: true,
				keyboard: true,
				touch: true,
				navigation: false,
				//autoplay:true,
				//autoplaySpeed: 1000,
				on: {
					init() {
						console.log('a : '+current);
						$('.fp-arrows').prepend(`
							<div class="fp-navi pc">
								<span>${current}</span>
								<em>${length}</em>
							</div>
						`);
					}
				},
				onLeave: function(prev, next) {
					console.log(`Leaving section ${prev} → ${next}`);
					$('.visual_cont').removeClass('active');
				},
				afterLoad: function(index) {
					console.log(`Now at section ${index}`);
					$('.fp-navi span').text('0'+(index + 1));

					// ✅ 화면 너비 체크
					if (window.innerWidth <= 767) {
						$('.fp-navi.mo span').text(index + 1); // 앞에 0 없이

						// ✅ 진행률 계산 및 CSS 변수로 전달 (이 부분 추가)
						let totalSections = $('section').length;
						let progress = ((index + 1) / totalSections) * 100;
						$('.fp-navi.mo i').css('--progress', `${progress}%`);
					} else {
						$('.fp-navi.pc span').text(('0' + (index + 1)));
					}

					setTimeout(function(){
						$('.visual_cont').addClass('active');
						$('.visual_cont .project').html(project.title[index].replace(/\n/g, '<br>'));
						$('.visual_cont .slogan').html(project.slogan[index].replace(/\n/g, '<br>'));
						$('.visual_cont').css('color', mixColor[index]);
						$('#section_wrap > p > a').attr('href', url[index])
					},800);
				}
			});

			if (window.innerWidth <= 767) {
				var current = ($('section.active').index() + 1);
				var length = $('section').length;

				if(length < 10){
					length = length;
				}

				if(current < 10){
					current = current;
				}
				
				$('.fp-arrows').prepend(`
					<div class="fp-navi mo">
						<i></i>
						<span>${current}</span>
						<em>${length}</em>
					</div>
				`);
			}

			/* date & time */
			const today = new Date();
			const year = String(today.getFullYear()); // YY (연도)
			const month = today.toLocaleString('en-US', { month: 'short' }); // m (영문 월)
			const day = String(today.getDate()).padStart(2, '0'); // dd (일)

			const formattedDate = `${year}.${month}.${day}`;

			$('.visual_cont div div p').text(formattedDate);

			const hours = ('0' + today.getHours()).slice(-2); 
			const minutes = ('0' + today.getMinutes()).slice(-2);
			const seconds = ('0' + today.getSeconds()).slice(-2);
			const formattime = hours + ':' + minutes  + ':' + seconds;

			$('.visual_cont div strong').text(formattime);

			setInterval(function(){
				const today = new Date();
				const hours = ('0' + today.getHours()).slice(-2); 
				const minutes = ('0' + today.getMinutes()).slice(-2);
				const seconds = ('0' + today.getSeconds()).slice(-2);
				const formattime = hours + ':' + minutes  + ':' + seconds;

				$('.visual_cont div strong').text(formattime);
			},1000);

			/* s:custom cursor */
			const $cursor = $('.custom-cursor');
			const $area = $('.parallax-bg');
			let isHovering = false;

			$area.on('mousemove', function (e) {
				if (isHovering) {
				$cursor.css({
					left: e.clientX + 'px',
					top: e.clientY + 'px'
				});
				}
			});

			$area.on('mouseenter', function () {
				isHovering = true;
				$cursor.css('opacity', 1);
				$(this).addClass('hide-cursor');
			});

			$area.on('mouseleave', function () {
				isHovering = false;
				$cursor.css('opacity', 0);
				$(this).removeClass('hide-cursor');
			});
			/* e:custom cursor */
    	});
	</script>
</head>
<body>

	<div id="wrap">
		<!-- header -->
		<header>
			<div class="inner">
				<a href="/project.html">WORK</a>
				<h1 onclick="location.href='/'"><img src="/assets/images/common/h1_logo.png" alt="RIAN" /></h1>
				<button class="btn_ham">site map</button>
			</div>

			<div class="site_map">
				<ul>
					<li><a href="/about.html">About</a></li>
					<li><a href="/project.html">Work</a></li>
					<li><a href="/insight_list.html">What's on</a></li>
					<li><a href="/join.html">Join Our Team</a></li>
					<li><a href="/contact.html">Contact</a></li>
				</ul>
				<!-- bottom -->
				<div class="bottom">
					<div>
						<a href="mailto:rianag@rianag.com">RIANAG@RIANAG.COM</a>
						<!-- <a href="http://daum.net" target="_blank">BLOG</a> -->
					</div>
					<a href="javascript:void(0);" class="download">BROCHURE DOWNLOAD</a>
				</div>
				<!-- //bottom -->
			</div>
		</header>
		<!-- //header -->

		<div id="section_wrap">
			<section class="active">
				<div class="parallax-bg" style="background-image: url('/assets/images/main/visual_cgv.png');"></div>
			</section>
			<section>
				<div class="parallax-bg" style="background-image: url('/assets/images/main/visual_lotte.png');"></div>
			</section>
			<section>
				<div class="parallax-bg" style="background-image: url('/assets/images/main/visual_homen.png');"></div>
			</section>
			<section>
				<div class="parallax-bg" style="background-image: url('/assets/images/main/visual_kb.png');"></div>
			</section>
			<section>
				<div class="parallax-bg" style="background-image: url('/assets/images/main/visual_hyundai.png');"></div>
			</section>
			<section>
				<div class="parallax-bg" style="background-image: url('/assets/images/main/visual_coldplay.png');"></div>
			</section>

			<div class="visual_cont">
				<strong class="project">CGV</strong>
				<p class="slogan">DEEP DIVE SPACE</p>
				<div>
					<strong></strong>
					<div>
						<em>ⓒ</em>
						<p></p>
					</div>
				</div>
			</div>
			<p>
				<span class="mo">View Detail</span>
				<a href="" class="mo"></a>
			</p>
		</div>

		<!-- bottom -->
		<div id="bottom">
			<div>
				<a href="mailto:rianag@rianag.com">RIANAG@RIANAG.COM</a>
				<!-- <a href="http://daum.net" target="_blank">BLOG</a> -->
			</div>
			<a href="javascript:void(0);" class="download">BROCHURE DOWNLOAD</a>
		</div>
		<!-- //bottom -->
	</div>

	<div class="custom-cursor">View</div>
</body>
</html>
